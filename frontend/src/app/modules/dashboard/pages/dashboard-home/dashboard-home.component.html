<app-toolbar-navigation />

<div class="grid">
  <div class="col-12">
    <ng-container *ngIf="loading">
      <div class="flex justify-content-center mt-7">
        <p-progressSpinner strokeWidth="4" styleClass="w-4rem h-4rem">
        </p-progressSpinner>
      </div>
    </ng-container>

    <ng-container *ngIf="!loading && showError">
      <div class="flex flex-column align-items-center justify-content-center mt-7 p-4">
        <i class="pi pi-times-circle text-5xl text-red-500 mb-3"></i>

        <h2 class="text-xl font-bold mb-2">Erro ao carregar os produtos</h2>

        <p class="text-center mb-4 text-600" style="max-width: 380px">
          Ocorreu um erro ao acessar o estoque. Tente novamente.
        </p>

        <p-button
          icon="pi pi-refresh"
          label="Recarregar"
          (onClick)="getAllProducts()"
          styleClass="p-button-outlined p-button-sm">
        </p-button>
      </div>
    </ng-container>

    <ng-container *ngIf="!loading && !showError && productsList.length === 0">
      <div class="flex flex-column align-items-center justify-content-center mt-7 p-4">
        <i class="pi pi-info-circle text-5xl text-blue-500 mb-3"></i>

        <h2 class="text-xl font-bold mb-2">Nenhum produto cadastrado</h2>

        <p class="text-center mb-4 text-600" style="max-width: 380px">
          Seu estoque está vazio no momento. Cadastre produtos para começar.
        </p>

        <p-button
          (onClick)="createNewProduct($event)"
          icon="pi pi-plus"
          label="Cadastrar produto"
          styleClass="p-button-sm">
        </p-button>
      </div>
    </ng-container>

    <p-card
      *ngIf="!loading && !showError && productsList.length > 0"
      header="Quantidade de produtos em estoque"
      styleClass="shadow-3 m-5 text-indigo-800">
      <p-chart type="bar" [data]="productsChartData" [options]="productsChartOptions">
      </p-chart>
    </p-card>
  </div>
</div>
